(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{322:function(e,t,a){e.exports={avatar:"ProfileInfo_avatar__3Rz7f",padding:"ProfileInfo_padding__18xmB",contentProfile:"ProfileInfo_contentProfile__JevcE",profile:"ProfileInfo_profile__1OXFr",customFileUpload:"ProfileInfo_customFileUpload__1Vaut",background:"ProfileInfo_background__3gAiF",aboutForm:"ProfileInfo_aboutForm__12Ga1",error:"ProfileInfo_error__3_u4R",content:"ProfileInfo_content__3MsA3",aboutEdit:"ProfileInfo_aboutEdit__Z2Ov0",about:"ProfileInfo_about__29uU2",name:"ProfileInfo_name__35YHR",edit:"ProfileInfo_edit__1nV0Z",lfj:"ProfileInfo_lfj__DwvaB",lfjEdit:"ProfileInfo_lfjEdit__2_WQb",skills:"ProfileInfo_skills__SRaOh",aboutMe:"ProfileInfo_aboutMe__3Sgk6",contacts:"ProfileInfo_contacts__zMARG",contactsItems:"ProfileInfo_contactsItems__2soF4",tooltip:"ProfileInfo_tooltip__2Kg5y"}},323:function(e,t,a){e.exports=a.p+"static/media/background.82500b16.jpg"},324:function(e,t,a){e.exports=a.p+"static/media/upload.c5d3b40c.svg"},325:function(e,t,a){e.exports={posts:"MyPosts_posts__2GuOG",form:"MyPosts_form__10Zn9",textarea:"MyPosts_textarea__2WcIT",btnAdd:"MyPosts_btnAdd__3neuM"}},326:function(e,t,a){e.exports={item:"Post_item__3kr-f",content:"Post_content__11FkZ",like:"Post_like__1OtRI",photo:"Post_photo__2mxdk",message:"Post_message__2HkRM"}},327:function(e,t,a){"use strict";a.r(t);var n=a(41),o=a(42),l=a(44),r=a(43),s=a(0),c=a.n(s);var i=a(105);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,o=!1,l=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);n=!0);}catch(c){o=!0,l=c}finally{try{n||null==s.return||s.return()}finally{if(o)throw l}}return a}}(e,t)||Object(i.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=a(322),f=a.n(m),p=a(46),d=a(101),b=a.n(d),E=function(e){var t=u(Object(s.useState)(!1),2),a=t[0],n=t[1],o=u(Object(s.useState)(e.status),2),l=o[0],r=o[1];Object(s.useEffect)((function(){r(e.status)}),[e.status]);return c.a.createElement(c.a.Fragment,null,!e.isOwner&&c.a.createElement("div",null,c.a.createElement("span",null,e.status||"No status")),!a&&e.isOwner&&c.a.createElement("div",null,c.a.createElement("span",{onDoubleClick:function(){n(!0)}},e.status||"No status")),a&&c.a.createElement("div",null,c.a.createElement("input",{autoFocus:!0,onChange:function(e){r(e.currentTarget.value)},onBlur:function(){n(!1),e.updateStatus(l)},value:l})))},v=a(135),_=a(30),h=a(72),P=a.n(h),g=Object(v.a)({form:"editProfile"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error;return c.a.createElement("form",{onSubmit:t,className:f.a.aboutForm},c.a.createElement("div",{className:f.a.aboutEdit},c.a.createElement("button",null,"SAVE"),n&&c.a.createElement("div",{className:f.a.error},n),c.a.createElement("div",{className:f.a.name},c.a.createElement("div",null,c.a.createElement("b",null,"Full name"),":"),c.a.createElement("div",null,Object(_.a)("Full name","fullName",_.b,[]))),c.a.createElement("div",{className:P()(f.a.lfjEdit,f.a.lfj)},c.a.createElement("div",null,c.a.createElement("b",null,"Looking for a job"),":"),c.a.createElement("div",null,Object(_.a)("","lookingForAJob",_.b,[],{type:"checkbox"}))),c.a.createElement("div",{className:f.a.skills},c.a.createElement("div",null,c.a.createElement("b",null,"My professional skills"),":"),c.a.createElement("div",null,Object(_.a)("My professional skills","lookingForAJobDescription",_.c,[]))),c.a.createElement("div",{className:f.a.aboutMe},c.a.createElement("div",null,c.a.createElement("b",null,"About me"),":"),c.a.createElement("div",null,Object(_.a)("About me","aboutMe",_.b,[])))),c.a.createElement("div",{className:f.a.contacts},c.a.createElement("h2",null,"Contacts : "),Object.keys(a.contacts).map((function(e){return c.a.createElement("div",{key:e,className:f.a.contactsItems},c.a.createElement("div",null,c.a.createElement("b",null,e),":"),c.a.createElement("div",null,Object(_.a)("".concat(e),"contacts.".concat(e),_.b,[])))}))))})),k=a(323),O=a.n(k),N=a(324),y=a.n(N),j=function(e){var t=e.profile,a=e.isOwner,n=e.goToEditMode;return c.a.createElement("div",{className:f.a.content},c.a.createElement("div",{className:f.a.about},a&&c.a.createElement("button",{className:f.a.edit,onClick:n},"EDIT"),c.a.createElement("div",{className:f.a.lfj},c.a.createElement("b",null,"Looking for a job :")," ",t.lookingForAJob?"yes":"no"),t.lookingForAJob&&c.a.createElement("div",{className:f.a.skills},c.a.createElement("b",null,"My professional skills :")," ",t.lookingForAJobDescription),c.a.createElement("div",{className:f.a.aboutMe},c.a.createElement("b",null,"About me :")," ",t.aboutMe?t.aboutMe:" \u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u044b")),c.a.createElement("div",{className:f.a.contacts},c.a.createElement("h2",null,"Contacts:")," ",Object.keys(t.contacts).map((function(e){return c.a.createElement(I,{key:e,contactTitle:e,contactValue:t.contacts[e]})}))))},I=function(e){var t=e.contactTitle,a=e.contactValue;return c.a.createElement("div",{className:f.a.contactsItems},c.a.createElement("div",null,c.a.createElement("b",null,t),":"),c.a.createElement("div",null,a?c.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"}," ",a):" \u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u044b"))},S=function(e){var t=e.profile,a=e.status,n=e.updateStatus,o=e.isOwner,l=e.savePhoto,r=e.saveProfile,i=u(Object(s.useState)(!1),2),m=i[0],d=i[1];if(!t)return c.a.createElement(p.a,null);return c.a.createElement("div",{className:"shadow"},c.a.createElement("div",{className:f.a.background},c.a.createElement("img",{src:O.a,alt:""})),c.a.createElement("div",{className:f.a.padding},c.a.createElement("div",{className:f.a.profile},c.a.createElement("div",{className:f.a.avatar},o&&c.a.createElement("div",null,c.a.createElement("label",{className:f.a.customFileUpload},c.a.createElement("input",{type:"file",multiple:!0,onChange:function(e){e.target.files.length&&l(e.target.files[0])}}),c.a.createElement("i",null,c.a.createElement("img",{src:y.a,alt:"photoData"}),"\u0421hange"))),c.a.createElement("img",{src:t.photos.large||b.a,alt:"photos"})),c.a.createElement("div",{className:f.a.contentProfile},c.a.createElement("h1",{className:f.a.tooltip}," ",t.fullName," ",c.a.createElement("span",null,"id: ",t.userId)),c.a.createElement(E,{status:a,updateStatus:n,isOwner:o})))),m?c.a.createElement(g,{onSubmit:function(e){r(e).then((function(){return d(!1)}))},profile:t,initialValues:t}):c.a.createElement(j,{goToEditMode:function(){return d(!0)},profile:t,isOwner:o}))},A=a(47),M=a(325),w=a.n(M),F=a(326),x=a.n(F),D=function(e){var t=e.message,a=e.likesCount,n=e.photos;return c.a.createElement("div",{className:x.a.item+" padding content"},c.a.createElement("div",null,c.a.createElement("img",{className:x.a.photo,src:n,alt:"photos"})),c.a.createElement("div",{className:x.a.content},c.a.createElement("div",{className:x.a.message},t),c.a.createElement("div",{className:x.a.like},a)))},C=a(94),T=a(73),J=Object(T.a)(300),R=c.a.memo((function(e){var t=Object(A.a)(e.postData).reverse().map((function(t,a){return c.a.createElement(D,{key:a,photos:e.photos,message:t.message,likesCount:"".concat(t.likesCount," \u2665")})}));return c.a.createElement("div",null,c.a.createElement("div",{className:"padding shadow"},c.a.createElement("b",null,"You can add a new post:"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(U,{onSubmit:function(t){return e.addPost(t.newPostText)}})),c.a.createElement("div",{className:w.a.posts},t))})),U=Object(v.a)({form:"ProfileAddPostForm"})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit,className:w.a.form},c.a.createElement(C.a,{component:_.c,name:"newPostText",placeholder:"enter your post",validate:[T.b,J],className:w.a.textarea}),c.a.createElement("button",{className:w.a.btnAdd},"Add post"))})),V=R,G=a(102),Z=a(18),B=Object(Z.b)((function(e){return{postData:e.profilePage.postData,photos:e.profilePage.profile&&e.profilePage.profile.photos.large?e.profilePage.profile.photos.large:b.a}}),(function(e){return{addPost:function(t){return e(Object(G.a)(t))}}}))(V),z=function(e){var t=e.profile,a=e.status,n=e.updateStatus,o=e.isOwner,l=e.savePhoto,r=e.saveProfile;return c.a.createElement("div",null,c.a.createElement(S,{isOwner:o,profile:t,status:a,updateStatus:n,savePhoto:l,saveProfile:r}),c.a.createElement(B,null))},H=a(35),L=a(9),W=function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(z,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile})))}}]),a}(c.a.Component);t.default=Object(L.d)(Object(Z.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,userId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:G.d,getStatus:G.c,updateStatus:G.g,savePhoto:G.e,saveProfile:G.f}),H.g)(W)}}]);
//# sourceMappingURL=3.c39c9a2f.chunk.js.map